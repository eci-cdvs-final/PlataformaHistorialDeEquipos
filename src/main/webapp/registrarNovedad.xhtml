<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<title>Registrar Novedad</title>
	
	
	<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<link rel="shortcut icon" href="Resources/favicon.ico" />
	<link rel="stylesheet" href="Resources/login.css" />
	
	                                                   
</h:head>
<h:body>

<script type="text/javascript">
    PrimeFaces.locales['es'] = {
        closeText: 'Cerrar',
        prevText: 'Anterior',
        nextText: 'Siguiente',
        monthNames: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
        monthNamesShort: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
        dayNames: ['Domingo', 'Lunes', 'Martes', 'Miércoles', 'Jueves', 'Viernes', 'Sábado'],
        dayNamesShort: ['Dom', 'Lun', 'Mar', 'Mie', 'Jue', 'Vie', 'Sab'],
        dayNamesMin: ['D', 'L', 'M', 'X', 'J', 'V', 'S'],
        weekHeader: 'Semana',
        firstDayOfWeek: 1,
        isRTL: false,
        showMonthAfterYear: false,
        yearSuffix: '',
        timeOnlyTitle: 'Sólo hora',
        timeText: 'Tiempo',
        hourText: 'Hora',
        minuteText: 'Minuto',
        secondText: 'Segundo',
        currentText: 'Fecha actual',
        ampm: false,
        month: 'Mes',
        week: 'Semana',
        day: 'Día',
        allDayText: 'Todo el día'
    };
</script>
 
<script type="text/javascript">
    //<![CDATA[
    function dateTemplateFunc(date) {
        return '<span style="background-color:' + ((date.day < 21 && date.day > 10) ? '#81C784' : 'inherit') + ';border-radius:50%;padding: .25em;width: 1.75em; height:1.75em; display:block;">' + date.day + '</span>';
    }
    //]]>
</script>
 
<style type="text/css">
    .value {
        font-weight: bold;
    }
</style>

	<h1>Registrar Novedad </h1>
	<h:form> 
		<p:menubar>
	        <p:submenu label="Registrar">
	            <p:menuitem value="Registrar Elemento" action="#{usuarioBean.gotoRegistrarElemento()}"  />
	            <p:menuitem value="Registrar Equipo" action="#{usuarioBean.gotoRegistrarEquipo()}"  />
	            <p:menuitem value="Registrar Novedad" action="#{usuarioBean.gotoRegistrarNovedad()}"  />
	             <p:menuitem value="Crear Laboratorio" action="#{usuarioBean.gotoCrearLaboratorio()}"  />
	        </p:submenu>
	        <p:submenu label="Asociar">
	            <p:menuitem value="Asociar Elemento" action="#{usuarioBean.gotoAsociarElemento()}"  />
	        </p:submenu>
	         <p:submenu label="Reportes">
	            <p:menuitem value="Reporte de Equipos" action="#{usuarioBean.gotoReporteEquipos()}"  />
	        </p:submenu>
	    </p:menubar>
		<h:panelGrid columns="2" cellpadding="10">
		
			<p:outputLabel value="Tipo:" />
			<p:selectOneMenu id="console2" value="#{novedadBean.tipo}" style="width:125px">
	            <f:selectItem itemLabel="Equipo" itemValue="Equipo" />
	            <f:selectItem itemLabel="Elemento" itemValue="Elemento" />
        	</p:selectOneMenu>
		
			<p:outputLabel value="Id: " />
			<h:inputText value="#{novedadBean.elementoId}"/>
			
			<p:outputLabel value="TituloCorto: " />
			<h:inputText value="#{novedadBean.titulo}"/>
			
			 <p:outputLabel for="popup" value="Fecha:" />
       		 <p:calendar id="popup" value="#{novedadBean.fecha}" />
			
			<p:outputLabel value="Detalle: " />
			<p:inputTextarea rows="5" cols="30"  maxlength="500" counterTemplate="{0} caracteres restantes." autoResize="false" value="#{novedadBean.detalle}"/>
			
			
		   	<p:commandButton value="Registrar Novedad"   action="#{novedadBean.registrar()}" style="margin-right:20px;"  /> 

			
	
		 </h:panelGrid>
		
	     <p:dataTable id="novedad_table" var="novedad" value="#{novedadBean.novedades}" rows="10"
                 paginator="true">
			<p:column headerText="EquipoID">
				<h:outputText value="#{novedad.equipoId}" />
			</p:column>
			<p:column headerText="ElementoId">
				<h:outputText value="#{novedad.elementoId}" />
			</p:column>
			<p:column headerText="tituloCorto">
				<h:outputText value="#{novedad.titulo}" />
			</p:column>
			<p:column headerText="fecha">
				<h:outputText value="#{novedad.fecha}" />
				
			</p:column>
			
			<p:column headerText="detalle">
				<h:outputText value="#{novedad.detalle}" />
				
			</p:column>
			
			
		</p:dataTable>
		
		<h3>Exportar A Excel</h3>
		 <h:commandLink>
	        <p:graphicImage url="Resources/excel.png" width="50"/>
	        <p:dataExporter type="csv" target="novedad_table" fileName="ReporteDeEquipos"/>
	    </h:commandLink>
	    <br></br>
	 
		<br></br>
	   		<p:commandButton value="Regresar" id="Regresar"  action="#{usuarioBean.regresar()}" style="margin-right:20px;"  />   
	   		<p:commandButton value="Logout" id="Logout"  action="#{usuarioBean.logout()}" style="margin-right:20px;"  />   	
	</h:form>

</h:body>
</html>